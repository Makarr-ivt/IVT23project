Как уже было сказано в прошлом билете, логическая функция это выражение составленное из логических операторов и $n$ переменных. Для однозначного задания такой функции достаточно таблицы истинности с $2^n$ строк, для каждой комбинации состояний переменных.

## Совершенные нормальные формы
Поговорим про дизъюнктивную и конъюктивную стандартные формы. Дизъюнктивная нормальная форма (ДНФ) - это логическая функция нескольких переменных, в которой конъюнкции переменных соединены дизъюнкцией. Обычно значок конъюнкции в такой записи опускается. Например:
$$F(x,y,z) = x\overline y \vee xyz \vee yz$$
С конъюнтивной формой же наоборот, дизъюнкции соединенные конъюнкцией:
$$F(x,y,z) = (x \vee \overline y) \wedge(x \vee y \vee z) \wedge (y \vee z)$$

Совершенные нормальные формы - СДНФ и СКНФ - это те же ДНФ и КНФ, только есть два условия:
- В форме нет повторяющихся конструкций (например $xyz \vee xyz$)
- Каждая конструкция содержит в себе все переменные функции один раз (для функции от трех переменных $xyy$ и $xy$ будут невалидными конструкциями, а например $xy\overline z$ будет удовлетворять этому условию)

Для каждой функции (кроме тождественно истинных и тождественно ложных) существует разложение в СДНФ и СКНФ, причем единственное.

Построить СДНФ и СКНФ из функции можно разными способами (теми же эквивалентными преобразованиями), но проще всего через таблицу истинности. Построим ее для функции:
$$F(x,y,z) = \overline{(x \vee \overline y)} \oplus z$$

| $x$ | $y$ | $z$ | $\overline y$ | $x \vee \overline y$ | $\overline{x \vee \overline y}$ | $\overline{(x \vee \overline y)} \oplus z$ |
| --- | --- | --- | ------------- | -------------------- | ------------------------------- | ------------------------------------------ |
| 0   | 0   | 0   | 1             | 1                    | 0                               | ***0***                                          |
| 0   | 0   | 1   | 1             | 1                    | 0                               | ***1***                                          |
| 0   | 1   | 0   | 0             | 0                    | 1                               | ***1***                                          |
| 0   | 1   | 1   | 0             | 0                    | 1                               | ***0***                                          |
| 1   | 0   | 0   | 1             | 1                    | 0                               | ***0***                                          |
| 1   | 0   | 1   | 1             | 1                    | 0                               | ***1***                                          |
| 1   | 1   | 0   | 0             | 1                    | 0                               | ***0***                                          |
| 1   | 1   | 1   | 0             | 1                    | 0                               | ***1***                                          |

Начнем с построения СДНФ. Смотрим на строчки таблицы, где функция равна единице, и строим конъюнкцию из переменных в этой строке. Например, на второй строчке функция равна единице - смотрим в состояние переменных, которые ее составили - $x$ в нуле, $y$ в нуле, $z$ в единичке. Составляем конструкцию так, чтобы переменные в таких позициях конъюктивно единицу. Для этого все переменные в нуле отрицаем, а в единице оставляем как было. Так получаем: $\overline x \wedge \overline y \wedge z$.

Составляем так конъюнкции для каждой строки таблицы, где функция равна единице, и соединяем их всех дизъюнцией. Получаем СДНФ:
$$F(x,y,z) = \overline x \overline y z \vee \overline x y \overline z \vee x \overline y z \vee xyz$$
Смысл работы СДНФ: если мы подадим переменные в состоянии, которые обращают функцию в истину (например $x=0, y=0, z=1$), то лишь одна из этих конъюнкций, которая отвечает за ту строку (строка 2), что обращает функцию в истине, будет равна истине ($\overline x \overline y z$) - и по дизъюнктивному закону констант вся функция будет равна истине.

С СКНФ алгоритм похожий: вместо строк с единицами выбираем строки с нулями, и составляем дизъюнктивную конструкцию, которая для переменных этой строки будет равна нулю. Для этого переменные в нуле оставляем как есть, а переменные в единице отрицаем. Например, для первой строки такая конструкция будет выглядеть так: $x \vee y \vee z$.

Составляем так для каждой строки и получаем СНКФ:
$$F(x,y,z) = (x \vee y \vee z)(x \vee \overline y \vee \overline z)(\overline x \vee y \vee z)(\overline x \vee \overline y \vee \overline z)$$
Смысл: все дизъюнктивные скобки равны единице до тех пор, пока на вход не пойдут переменные, обращающие какую-то строку в ноль. Тогда лишь одна из этих скобок станет равна нулю, и по конъюктивному закону констант вся функция станет равна нулю.

## Полином Жегалкина
Полином Жегалкина это логическая функция, состоящая только из конъюнкции (умножения) и исключающего или (сложения по модулю 2), без отрицания! Формально выглядит так:
$$\array{F(X_0, \ldots, X_n) = a_0 \oplus a_1 X_1\oplus a_2 X_2 \oplus \ldots \oplus a_{12}X_1X_2 \oplus \ \\ \ \oplus a_{13}X_1X_3 \oplus \ldots \oplus a_{1\ldots n}X_1 \ldots X_n}$$
Где $a \in \set{0,1}$. Получается когда $a=0$, соответствующий член можно просто не включать в полином Жегалкина.

Пример полинома Жегалкина:
$$F(x,y) = y \oplus xy = 0 \oplus 0x \oplus 1y \oplus 1xy$$
Иногда вместо полинома записывают лишь коэффициенты $a$, ведь они однозначно определяют полином, который в свою очередь однозначно определяет логическую функцию.
$$a_0 = 0, a_1 = 0, a_2 = 1, a_{12} = 1$$

### Существование и единственность - теорема Жегалкина
Теорема Жегалкина: любая логическая функция представима полиномом Жегалкина, причем единственным образом.

Начнем с существования:

Логических функций от $n$ переменных существует $2^{2^n}$ штук - логическая функция однозначно задается ее таблицой истинности, а для $n$ переменных таблица истинности будет содержать $2^n$ строк. Сколько существует вариаций таблиц истинности из $2^n$ строк, каждая из которых принимает одно из двух значений? $2^{2^n}$.

Аналогично и с полиномом Жегалкина: сколько существует различных конъюнкций от $n$ переменных? $2^n$, каждая переменная либо входит в конъюнкцию, либо нет. А полином содержит в себе всевозможные конъюнкции вместе с коэффициентом $0$ или $1$ перед ним - соответственно всего различных полиномов тоже существует $2^{2^n}$, значит можно каждой функции составить соответствие между полиномом Жегалкина.

Теперь единственность:

Предположим обратное - существует два разных полинома Жегалкина, которые описывают одну функцию. Тогда приравняем их и перенесем одну часть равенства в другую сторону - получится полином с ненулевыми коэффициентами тождественно равный нулю. Найдем в этом полиноме слагаемое с ***минимальным количеством переменных***, имеющий коэффициент $1$ перед ним.

Подставим единицы на место этих переменных, и нули на места всех остальных, и получим полином, где только это слагаемое равно единице (все остальные занулятся, ведь либо коэффициент перед ними равен нулю, либо в них содержатся другие переменные, которые мы занулили. Слагаемых, в которых содержатся только переменные-единицы и с коэффициентом $1$ быть не может, ведь иначе мы выбрали слагаемое не с минимальным количеством переменных).

Получается в одной части равенства находится единица, в другой - ноль. Противоречие, значит наше изначальное предположение было неверным, и каждая функция реализуется полиномом Жегалкина единственным образом.

## Построение полинома Жегалкина из ДНФ
Если функция была дана не в ДНФ, переделываем в ДНФ.
Затем запоминаем две хорошие формулы:
$$A \vee B = A \oplus B \oplus AB, \ \ \ \ \ \ \ \ \overline A = A \oplus 1$$
И по следующему алгоритму переводим функцию:
Самый простой алгоритм построения полинома Жегалкина:
1. Заменяем каждую пару дизъюнктивных групп по формуле, пока больше пар не останется:$$A \vee B = A \oplus B \oplus AB$$
2. Заменяем все инверсии по формуле: $$\overline A = A \oplus 1$$
3. Раскрываем скобки (дистрибутивность исключающего или работает как с любой другой операцией)
4. Сокращаем пары одинаковых слагаемых ($A \oplus A = 0$).

Переведем следующую функцию в полином Жегалкина:
$$F(x,y,z) = x\overline y \vee xyz \vee yz$$
Заменяем первую дизъюнктивную пару:
$$(x \overline y \oplus xyz \oplus x\overline yxyz) \vee yz$$
По закону идемпотентности сокращаем третье слагаемое в скобках:
$$(x \overline y \oplus xyz \oplus 0) \vee yz = (x \overline y \oplus xyz) \vee yz$$
Заменяем вторую дизъюнктивную пару - мы можем принять скобку за единое целое:
$$(x \overline y \oplus xyz) \oplus yz \oplus (x \overline y \oplus xyz)yz$$
Раскрываем скобки, применяем дистрибутивность:
$$x \overline y \oplus xyz \oplus yz \oplus x \overline yyz \oplus xyzyz$$
Упрощаем конъюнкции:
$$x \overline y \oplus xyz \oplus yz \oplus xyz$$
Заменяем отрицания:
$$x(y \oplus 1) \oplus xyz \oplus yz \oplus xyz$$
Снова раскрываем скобки:
$$xy \oplus x \oplus xyz \oplus yz \oplus xyz$$
И последний шаг, сокращаем пары одинаковых слагаемых:
$$xy \oplus x\oplus yz$$
Полином Жегалкина построен.
